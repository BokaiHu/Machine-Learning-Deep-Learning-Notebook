# 算法

## 特征点提取与匹配算法

提取角点，边缘点作为特征子，这些点周围的像素往往有较大的变化，因此较容易检测。

### FAST特征点提取

遍历图片上的每一个像素，并对该像素画一个半径为3个像素的圆，这个圆圆周上包含16个点，计算这16个点和圆心像素差值的绝对值。如果绝对值大于某个阈值，则计数器加一。如果计数器超过9，则认为圆心是一个特征点。

### BRIEF创建特征向量

预设很多个随机点，然后对每一个特征点计算相对偏移后的随机点。比较这两个随机点的大小，如果$A>B$则特征向量append(1), 反之append(0).

### ORB算法

结合了FAST和BRIEF。

- 首先建立一个图像金字塔，保证**尺度不变性**。
- 然后对不同分辨率的图像应用FAST，检测出特征点，然后计算每个特征点的方向。这个方向需要先计算以特征点为中心的一个方框的质心(即平均像素强度的位置)，然后从关键点向这个质心引一条向量即为该特征点的方向，也是像素亮度增强的方向。
- 然后应用BRIEF的改进版rBRIEF，该版本会先根据两个特征点之间的方向差进行旋转，然后再计算BRIEF。保证了旋转不变性。

如何应用：先提取训练和测试图片中的特征点并计算BRIEF描述子，之后使用距离算法逐个比较描述子进行特征点匹配。

## 卷积核

用一个$r*r$卷积核过一边整张图像。

### 高斯模糊与均值模糊

高斯：一个二维高斯分布

$$
\begin{bmatrix}
G(-1,1) & G(0, 1) & G(1, 1) \\
G(-1,0) & G(0, 0) & G(1, 0) \\
G(-1,-1) & G(0, -1) & G(1, -1) \\
\end{bmatrix}
$$


均值：

$$
\frac{1}{9}\begin{bmatrix}
1 & 1 & 1 \\
1 & 1 & 1 \\
1 & 1 & 1 \\
\end{bmatrix}
$$

### Sobel & Prewitt & Scharr 边缘检测

Sobel:

$$
\begin{bmatrix}
1 & 0 & -1 \\
2 & 0 & -2 \\
1 & 0 & -1 \\
\end{bmatrix}
$$

Prewitt:

$$
\begin{bmatrix}
1 & 0 & -1 \\
1 & 0 & -1 \\
1 & 0 & -1 \\
\end{bmatrix}
$$

Scharr:

$$
\begin{bmatrix}
3 & 0 & -3 \\
10 & 0 & -10 \\
3 & 0 & -3 \\
\end{bmatrix}
$$

斜着的：

- Roberts

$$
\begin{bmatrix}
1 & 0 \\
0 & -1 \\
\end{bmatrix}
$$

- Emboss

$$
\begin{bmatrix}
-2 & -1 & 0 \\
-1 & 0 & 1 \\
0 & 1 & 2 \\
\end{bmatrix}
$$

### 锐化

Laplacian

$$
\begin{bmatrix}
0 & -1 & 0 \\
-1 & 4 & -1 \\
0 & -1 & 0 \\
\end{bmatrix}
$$

锐化

$$
\begin{bmatrix}
0 & -1 & 0 \\
-1 & 5 & -1 \\
0 & -1 & 0 \\
\end{bmatrix}
$$


## RANSAC 随机采样一致性

随机采样一个子集的数据进行模型拟合，将这个模型应用于剩余数据上判断错误率。在所有模型中选择错误率最小的那个。

## SLAM 即时定位与地图构建
